# Kong Configuration for Local Development
# This file is loaded by Kong when using docker-compose.local.yml

# General
prefix = /usr/local/kong/
log_level = debug

# Database
database = postgres

# Nginx
nginx_worker_processes = auto
nginx_daemon = off

# Proxy
proxy_listen = 0.0.0.0:8000
proxy_listen_ssl = 0.0.0.0:8443

# Admin API
admin_listen = 0.0.0.0:8001
admin_listen_ssl = 0.0.0.0:8444

# Plugins
plugins = bundled,jwt,rate-limiting,cors,request-transformer,response-transformer

# Logging
proxy_access_log = /dev/stdout
admin_access_log = /dev/stdout
proxy_error_log = /dev/stderr
admin_error_log = /dev/stderr

# DNS Resolver (for Docker internal DNS)
dns_resolver = 127.0.0.11

# Performance Tuning for Local Dev
mem_cache_size = 128m
db_cache_ttl = 3600
