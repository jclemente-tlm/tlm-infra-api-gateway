# ==============================================================================
# TLM API Gateway - Variables de Entorno
# ==============================================================================
# Copiar este archivo a .env y ajustar valores según tu ambiente
# NO hacer commit de .env al control de versiones

# ==============================================================================
# Base de Datos PostgreSQL (Kong)
# ==============================================================================
POSTGRES_HOST=kong-db  # Local: 'kong-db' | Non-prod/Prod: AWS RDS endpoint
POSTGRES_PORT=5432
POSTGRES_DB=kong
POSTGRES_USER=kong
POSTGRES_PASSWORD=kong_password_change_me
POSTGRES_SSL=off  # Local: off | Non-prod/Prod: on

# Variables Kong (mapean a las POSTGRES_* anteriores)
KONG_DATABASE=postgres
KONG_PG_HOST=${POSTGRES_HOST}
KONG_PG_PORT=${POSTGRES_PORT}
KONG_PG_DATABASE=${POSTGRES_DB}
KONG_PG_USER=${POSTGRES_USER}
KONG_PG_PASSWORD=${POSTGRES_PASSWORD}
KONG_PG_SSL=${POSTGRES_SSL}
KONG_PG_SSL_VERIFY=off

# ==============================================================================
# Base de Datos MySQL (Konga)
# ==============================================================================
DB_ADAPTER=mysql
DB_HOST=konga-db  # Local: 'konga-db' | Non-prod/Prod: AWS RDS/MySQL endpoint
DB_PORT=3306
DB_DATABASE=konga
DB_USER=konga
DB_PASSWORD=konga_password_change_me

# Variables Konga DB (mapean a las DB_* anteriores)
KONGA_PG_DATABASE=${DB_DATABASE}
KONGA_PG_USER=${DB_USER}
KONGA_PG_PASSWORD=${DB_PASSWORD}

# ==============================================================================
# Puertos Kong (solo modificar si hay conflictos)
# ==============================================================================
KONG_ADMIN_PORT=8001
KONG_PROXY_PORT=8000
KONG_PROXY_SSL_PORT=8443
KONG_ADMIN_SSL_PORT=8444

# ==============================================================================
# Passwords de Root (solo para local)
# ==============================================================================
KONGA_RP_PASSWORD=konga_root_local  # Root password para MySQL Konga

# ==============================================================================
# Identificador de Ambiente
# ==============================================================================
# Valores: local, dev, qa, prod
ENVIRONMENT=local

# ==============================================================================
# NOTAS:
# - URLs de backend (Gestal, Sisbon): configurar en Konga UI o via Kong Admin API
# - Keycloak URLs: están en config/kong/*.yaml (actualizar ahí si cambian)
# - Rate limiting: configurado en config/kong/kong-prod.yaml
# ==============================================================================
